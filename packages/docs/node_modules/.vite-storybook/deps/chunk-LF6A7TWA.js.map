{
  "version": 3,
  "sources": ["../../../../../node_modules/core-js/modules/web.clear-immediate.js", "../../../../../node_modules/core-js/internals/engine-is-bun.js", "../../../../../node_modules/core-js/internals/schedulers-fix.js", "../../../../../node_modules/core-js/modules/web.set-immediate.js", "../../../../../node_modules/core-js/modules/web.immediate.js", "../../../../../node_modules/@storybook/channels/dist/esm/index.js"],
  "sourcesContent": ["var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar clearImmediate = require('../internals/task').clear;\n\n// `clearImmediate` method\n// http://w3c.github.io/setImmediate/#si-clearImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.clearImmediate !== clearImmediate }, {\n  clearImmediate: clearImmediate\n});\n", "/* global Bun -- Deno case */\nmodule.exports = typeof Bun == 'function' && Bun && typeof Bun.version == 'string';\n", "'use strict';\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar isCallable = require('../internals/is-callable');\nvar ENGINE_IS_BUN = require('../internals/engine-is-bun');\nvar USER_AGENT = require('../internals/engine-user-agent');\nvar arraySlice = require('../internals/array-slice');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar Function = global.Function;\n// dirty IE9- and Bun 0.3.0- checks\nvar WRAP = /MSIE .\\./.test(USER_AGENT) || ENGINE_IS_BUN && (function () {\n  var version = global.Bun.version.split('.');\n  return version.length < 3 || version[0] == 0 && (version[1] < 3 || version[1] == 3 && version[2] == 0);\n})();\n\n// IE9- / Bun 0.3.0- setTimeout / setInterval / setImmediate additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n// https://github.com/oven-sh/bun/issues/1633\nmodule.exports = function (scheduler, hasTimeArg) {\n  var firstParamIndex = hasTimeArg ? 2 : 1;\n  return WRAP ? function (handler, timeout /* , ...arguments */) {\n    var boundArgs = validateArgumentsLength(arguments.length, 1) > firstParamIndex;\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var params = boundArgs ? arraySlice(arguments, firstParamIndex) : [];\n    var callback = boundArgs ? function () {\n      apply(fn, this, params);\n    } : fn;\n    return hasTimeArg ? scheduler(callback, timeout) : scheduler(callback);\n  } : scheduler;\n};\n", "var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setTask = require('../internals/task').set;\nvar schedulersFix = require('../internals/schedulers-fix');\n\n// https://github.com/oven-sh/bun/issues/1633\nvar setImmediate = global.setImmediate ? schedulersFix(setTask, false) : setTask;\n\n// `setImmediate` method\n// http://w3c.github.io/setImmediate/#si-setImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.setImmediate !== setImmediate }, {\n  setImmediate: setImmediate\n});\n", "// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/web.clear-immediate');\nrequire('../modules/web.set-immediate');\n", "import \"core-js/modules/es.object.freeze.js\";\r\n\r\nvar _templateObject;\r\n\r\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\r\n\r\nimport \"core-js/modules/es.array.slice.js\";\r\nimport \"core-js/modules/es.object.to-string.js\";\r\nimport \"core-js/modules/es.regexp.to-string.js\";\r\nimport \"core-js/modules/web.immediate.js\";\r\nimport \"core-js/modules/es.object.keys.js\";\r\nimport \"core-js/modules/es.array.filter.js\";\r\nimport \"core-js/modules/web.dom-collections.for-each.js\";\r\nimport deprecate from 'util-deprecate';\r\nimport dedent from 'ts-dedent';\r\n\r\nvar generateRandomId = function generateRandomId() {\r\n  // generates a random 13 character string\r\n  return Math.random().toString(16).slice(2);\r\n};\r\n\r\nexport var Channel = /*#__PURE__*/function () {\r\n  function Channel() {\r\n    var _this = this;\r\n\r\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\r\n        transport = _ref.transport,\r\n        _ref$async = _ref.async,\r\n        async = _ref$async === void 0 ? false : _ref$async;\r\n\r\n    _classCallCheck(this, Channel);\r\n\r\n    this.isAsync = void 0;\r\n    this.sender = generateRandomId();\r\n    this.events = {};\r\n    this.data = {};\r\n    this.transport = undefined;\r\n    this.addPeerListener = deprecate(function (eventName, listener) {\r\n      _this.addListener(eventName, listener);\r\n    }, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      channel.addPeerListener is deprecated\\n    \"]))));\r\n    this.isAsync = async;\r\n\r\n    if (transport) {\r\n      this.transport = transport;\r\n      this.transport.setHandler(function (event) {\r\n        return _this.handleEvent(event);\r\n      });\r\n    }\r\n  }\r\n\r\n  _createClass(Channel, [{\r\n    key: \"hasTransport\",\r\n    get: function get() {\r\n      return !!this.transport;\r\n    }\r\n  }, {\r\n    key: \"addListener\",\r\n    value: function addListener(eventName, listener) {\r\n      this.events[eventName] = this.events[eventName] || [];\r\n      this.events[eventName].push(listener);\r\n    }\r\n  }, {\r\n    key: \"emit\",\r\n    value: function emit(eventName) {\r\n      var _this2 = this;\r\n\r\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n        args[_key - 1] = arguments[_key];\r\n      }\r\n\r\n      var event = {\r\n        type: eventName,\r\n        args: args,\r\n        from: this.sender\r\n      };\r\n      var options = {};\r\n\r\n      if (args.length >= 1 && args[0] && args[0].options) {\r\n        options = args[0].options;\r\n      }\r\n\r\n      var handler = function handler() {\r\n        if (_this2.transport) {\r\n          _this2.transport.send(event, options);\r\n        }\r\n\r\n        _this2.handleEvent(event);\r\n      };\r\n\r\n      if (this.isAsync) {\r\n        // todo I'm not sure how to test this\r\n        setImmediate(handler);\r\n      } else {\r\n        handler();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"last\",\r\n    value: function last(eventName) {\r\n      return this.data[eventName];\r\n    }\r\n  }, {\r\n    key: \"eventNames\",\r\n    value: function eventNames() {\r\n      return Object.keys(this.events);\r\n    }\r\n  }, {\r\n    key: \"listenerCount\",\r\n    value: function listenerCount(eventName) {\r\n      var listeners = this.listeners(eventName);\r\n      return listeners ? listeners.length : 0;\r\n    }\r\n  }, {\r\n    key: \"listeners\",\r\n    value: function listeners(eventName) {\r\n      var listeners = this.events[eventName];\r\n      return listeners || undefined;\r\n    }\r\n  }, {\r\n    key: \"once\",\r\n    value: function once(eventName, listener) {\r\n      var onceListener = this.onceListener(eventName, listener);\r\n      this.addListener(eventName, onceListener);\r\n    }\r\n  }, {\r\n    key: \"removeAllListeners\",\r\n    value: function removeAllListeners(eventName) {\r\n      if (!eventName) {\r\n        this.events = {};\r\n      } else if (this.events[eventName]) {\r\n        delete this.events[eventName];\r\n      }\r\n    }\r\n  }, {\r\n    key: \"removeListener\",\r\n    value: function removeListener(eventName, listener) {\r\n      var listeners = this.listeners(eventName);\r\n\r\n      if (listeners) {\r\n        this.events[eventName] = listeners.filter(function (l) {\r\n          return l !== listener;\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"on\",\r\n    value: function on(eventName, listener) {\r\n      this.addListener(eventName, listener);\r\n    }\r\n  }, {\r\n    key: \"off\",\r\n    value: function off(eventName, listener) {\r\n      this.removeListener(eventName, listener);\r\n    }\r\n  }, {\r\n    key: \"handleEvent\",\r\n    value: function handleEvent(event) {\r\n      var listeners = this.listeners(event.type);\r\n\r\n      if (listeners && listeners.length) {\r\n        listeners.forEach(function (fn) {\r\n          fn.apply(event, event.args);\r\n        });\r\n      }\r\n\r\n      this.data[event.type] = event.args;\r\n    }\r\n  }, {\r\n    key: \"onceListener\",\r\n    value: function onceListener(eventName, listener) {\r\n      var _this3 = this;\r\n\r\n      var onceListener = function onceListener() {\r\n        _this3.removeListener(eventName, onceListener);\r\n\r\n        return listener.apply(void 0, arguments);\r\n      };\r\n\r\n      return onceListener;\r\n    }\r\n  }]);\r\n\r\n  return Channel;\r\n}();\r\nexport default Channel;"],
  "mappings": "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",
  "names": ["setImmediate", "generateRandomId", "Channel", "deprecate", "handler", "listeners", "onceListener", "esm_default"]
}
